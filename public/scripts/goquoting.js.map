{"version":3,"sources":["app/goquoting-admin.js","app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArJA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9hBA;AAAA","file":"public/scripts/goquoting.js","sourcesContent":["$('#sync-receptivo').click( function(){\n    var quoteId = $('#quoteID').val();\n    $.ajax({\n        type: 'POST',\n        url: ajaxurl,\n        data : {\n            action: 'goDownloadReceptivo',\n            quoteId: quoteId,\n        },\n        beforeSend  : function(){\n            $('#syncmsg').modal('show');\n            $('#sync-text-msg')\n                .removeClass('bg-danger')\n                .removeClass('bg-warning')\n                .removeClass('bg-success')\n                .addClass('bg-info');\n            $('#sync-text-msg .dashicons')\n                .removeClass('dashicons-yes')\n                .removeClass('dashicons-no')\n                .removeClass('dashicons-warning')\n                .addClass('dashicons-image-rotate');\n            $('#sync-text-msg p')\n                .text('Connecting to ELIGOS...');\n        },\n        success: function( response ){\n            setTimeout( function(){\n                if (response.length > 0){\n                    $('#sync-text-msg')\n                        .removeClass('bg-info')\n                        .addClass('bg-success');\n                    $('#sync-text-msg .dashicons')\n                        .removeClass('dashicons-image-rotate')\n                        .addClass('dashicons-yes');\n                    $('#sync-text-msg p')\n                        .text('The information has been downloaded to ELIGOS...');\n                    $('.modal-footer')\n                        .removeClass('hidden');\n                    if(response == 'ERROR'){\n                        $('#q-code').html('<span class=\"text-danger\"><strong>ERROR</strong></span>');\n                    }else{\n                        //$('#q-code').text(response);\n                        console.log(response);\n                    }\n                }else{\n                    $('#sync-text-msg')\n                        .removeClass('bg-info')\n                        .addClass('bg-warning');                \n                    $('#sync-text-msg .dashicons')\n                        .removeClass('dashicons-image-rotate')\n                        .addClass('dashicons-warning');\n                    $('#sync-text-msg p')\n                        .text('An error has occurred with ELIGOS, please try again!...');\n                    $('.modal-footer')\n                        .removeClass('hidden');\n                }\n            }, 1000);    \n            console.log(response);\n        },\n        error: function( response ){\n            setTimeout( function(){\n                $('#sync-text-msg')\n                    .removeClass('bg-info')\n                    .addClass('bg-danger');                \n                $('#sync-text-msg .dashicons')\n                    .removeClass('dashicons-image-rotate')\n                    .addClass('dashicons-no');\n                $('#sync-text-msg p')\n                    .html('Error Connecting to ELIGOS... <strong class=\"text-danger\">please report!</strong>');\n                $('.modal-footer').show();\n                $('.modal-footer')\n                    .removeClass('hidden');\n            }, 1000);\n        }\n    })\n})\n$('#send-quote').click(function(){\n    $('#send-quote-to').modal('show');\n})\nfunction printDiv() \n{\n    var divToPrint=document.getElementById('print-area');\n    var newWin=window.open('','Print-Window');\n    var vistaPrint = '';\n    vistaPrint += '<html>';\n    vistaPrint += '<head>';\n    vistaPrint += '<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">';\n    vistaPrint += '</head>';\n    vistaPrint += '<body onload=\"window.print()\">';\n    vistaPrint += divToPrint.innerHTML;\n    vistaPrint += '</body>';\n    vistaPrint += '</html>';\n\n    console.log(vistaPrint);\n\n    newWin.document.open();\n    newWin.document.write(vistaPrint);\n    //newWin.document.write('<html><body onload=\"window.print()\">'+divToPrint.innerHTML+'</body></html>');\n    newWin.document.close();\n    setTimeout(function(){newWin.close();},10);\n}\nfunction enviarQuote(){\n    var regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    var campoemail = $('[name=emailto]');\n    var mailfrom = $('[name=emailfrom]');\n    var messagge = $('[name=topmsg]');\n    var body = $('#print-area');\n    \n    console.log(mailfrom.val());\n    console.log(campoemail.val());\n    \n    if(!regex.test(campoemail.val())){\n        $('.email-to').addClass('has-error');\n        campoemail.focus();\n    }else{\n        \n        $('.email-to')\n            .removeClass('has-error')\n            .addClass('has-success');\n        \n        //enviar_quote_via_ajax\n        $.ajax({\n            type: 'POST',\n            url: ajaxurl,\n            data : {\n                action: 'enviar_quote_via_ajax',\n                mailfrom: mailfrom.val(),\n                mailto: campoemail.val(),\n                messagge: messagge.val(),\n                body: body.html(),\n            },\n            beforeSend: function(){\n                $('#send-quote-now')\n                    .removeClass('btn-primary')\n                    .addClass('btn-warning');\n            },\n            success: function( response ){\n                $('#send-quote-now')\n                    .removeClass('btn-warning')\n                    .addClass('btn-success');\n                $('#send-quote-to').modal('hide');\n                \n            },\n            error: function(){\n                $('#send-quote-now')\n                    .removeClass('btn-warning')\n                    .addClass('btn-danger');\n            }\n        });\n    }\n}","// const $ = require('jquery');\n// window.jQuery = $;\n// window.$ = $;\n// var preloader = require('preloader-js');\n\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n    console.log('Goquoting plugin made by @cattanich @digicattEC');\n    \n\n\n\n\n/* GO Quoting main js */\n// DECLARACIONES\nvar datesShown = false;\nvar adults = 2;\nvar children = 0;\nvar total_pax = 0;\nvar finicio = $('input[name=date-start]').val();\nvar ffin = $('input[name=date-end]').val();\nvar salidas = '';\nvar promociones = '';\nvar personas_por_acomodar = 0;\nvar fecha_barco, duracion_barco;\nvar cabinas_seleccionadas = [];\nvar panel = '';\n// FUNCIONES\nfunction fechasMostrarOcultar(padre){\n    if (datesShown){\n        $('#'+padre).find('.ship-departure-dates-list').addClass('shown');\n        $('#'+padre).find('.hide-all-dates').removeClass('hidden');\n    }else{\n        $('#'+padre).find('.ship-departure-dates-list').removeClass('shown');\n        $('#'+padre).find('.see-all-dates').removeClass('hidden');\n    }\n}\n// function mostrarMascara(){\n//     var mascara = '';\n\n//     mascara += '<div class=\"loading-mask\">';\n//     mascara += '<i class=\"fas fa-3x fa-spinner fa-spin\"></i>';\n//     mascara += '</div>';\n\n//     $('.booking-page-main-container').prepend( mascara );\n\n//     $('body').css('overflow', 'hidden');\n//     $('.loading-mask').css('top', $(window).scrollTop() );\n\n// }\n// function quitarMascara(){\n//     setTimeout( function(){\n//         $('.loading-mask').remove();\n//     }, 1000);\n//     $('body').css('overflow', 'auto');\n// }\nfunction calcularInputPax(tipo, valor){\n    switch (tipo){\n        case 0:\n            valor++;\n            break;\n        case 1:\n            valor--;\n            break;\n    }\n    return valor;\n}\nfunction validarTotalPax(){\n    adults = $('#adults-counter');\n    children = $('#children-counter');\n    total_pax = parseInt( adults.val() ) + parseInt( children.val() );\n    $('#more-filters').removeClass('hidden');\n    $('#search-dates').removeClass('hidden');\n    $('#more-than-nine').addClass('hidden');\n    if (total_pax > 9){\n        $('#more-filters').addClass('hidden');\n        $('#search-dates').addClass('hidden');\n        $('#more-than-nine').removeClass('hidden');\n    }\n    return total_pax;\n}\nfunction recuperarFechasSalidas(fini, ffin){\n    // salidas = '';\n    \n    // $.ajax({\n    //     url         : 'http://test.gogalapagos.com/getjson/?token=rogbV19gAJo33sS9RVdb_xyn_6bCkUWR',\n    //     data        : {\n            \n    //     },\n    //     dataType    : 'json',\n    //     beforeSend  : function(){\n    //         mostrarMascara();\n    //     },\n    //     error       : function(response){\n    //         console.error('Error de AJAX', response);\n    //     },\n    //     success     : function(response, textStatus, jQxhr){\n    //         salidas = response;\n    //     }\n    // }).done( function(){\n    //     quitarMascara();\n    // });\n    \n    // return salidas;\n}\nfunction mostrarErrorAcomodacion(padre){\n    $('#' + padre).find('.info-accommodation').slideToggle(200);\n}\nfunction mostrarSumario(){\n    llenarListaCabinasSumario();\n    $('#cabinSumary').modal('toggle');\n}\nfunction llenarListaCabinasSumario(){\n    \n    $.each(cabinas_seleccionadas, function(index, value){\n\n        panel = '<div class=\"panel panel-default\" id=\"panel-'+index+'\">';\n        panel += '<div class=\"panel-heading\" role=\"tab\" id=\"heading-' + index + '\">';\n        panel += '<a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion-' + index + '\" href=\"#collapse-' + index + '\" aria-expanded=\"true\" aria-controls=\"collapse-' + index + '\">';\n        panel += '<span class=\"fas fa-chevron-down\"></span> ';\n        panel += value.nombreCabina;\n        panel += '</a>';\n        panel += '<button id=\"cabin-item-list-' + index + '\" type=\"button\" class=\"pull-right cabin-item-list-remove-btn\" data-removethiselement=\"' + index + '\">';\n        panel += '<span class=\"fas fa-times\"></span>';\n        panel += '</button>';\n        panel += '<span class=\"pull-right\">$ ' + value.precioCabina + '</span>';\n        panel += '</div>';\n        panel += '<div id=\"collapse-' + index + '\" class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"heading-' + index + '\">';\n        panel += '<div class=\"panel-body\">';\n        panel += '<strong>' + value.acomodacionTexto + '</strong>';\n        panel += '</div>';\n        panel += '</div>';\n        panel += '</div>';        \n\n        //console.warn(index, value);\n    })\n    \n    $('#sumary-content .panel-group').append(panel);\n}\nfunction redibujarListaCabinasSumario(arreglo_cabinas){\n    \n    $('#sumary-content .panel-group').html('');\n    panel = '';\n    //if(arreglo_cabinas.length > 0){\n        $.each(arreglo_cabinas, function(index2, value2){\n            \n            panel += '<div class=\"panel panel-default\" id=\"panel-'+index2+'\">';\n            panel += '<div class=\"panel-heading\" role=\"tab\" id=\"heading-' + index2 + '\">';\n            panel += '<a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion-' + index2 + '\" href=\"#collapse-' + index2 + '\" aria-expanded=\"true\" aria-controls=\"collapse-' + index2 + '\">';\n            panel += '<span class=\"fas fa-chevron-down\"></span> ';\n            panel += value2.nombreCabina;\n            panel += '</a>';\n            panel += '<button id=\"cabin-item-list-' + index2 + '\" type=\"button\" class=\"pull-right cabin-item-list-remove-btn\" data-removethiselement=\"' + index2 + '\">';\n            panel += '<span class=\"fas fa-times\"></span>';\n            panel += '</button>';\n            panel += '<span class=\"pull-right\">$ ' + value2.precioCabina + '</span>';\n            panel += '</div>';\n            panel += '<div id=\"collapse-' + index2 + '\" class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"heading-' + index2 + '\">';\n            panel += '<div class=\"panel-body\">';\n            panel += '<strong>' + value2.acomodacionTexto + '</strong>';\n            panel += '</div>';\n            panel += '</div>';\n            panel += '</div>';\n\n            //console.warn(index2, value2, panel);\n        });\n    //}\n    //console.log(panel);\n    $('#sumary-content .panel-group').append(panel);\n}\nfunction cabinasLlenas(){\n    $('.shoping-status').removeClass('accommodate');\n    $('.shoping-status').addClass('done');\n}\nfunction cabinasPendiente(){\n    $('.shoping-status').addClass('accommodate');\n    $('.shoping-status').removeClass('done');\n}\nfunction calcularPaxPorAcomodar(){\n    adults = parseInt( $('input[name=adults]').val() );\n    children = parseInt( $('input[name=children]').val() );\n    var pending_pax = $('#pending-pax');\n    var pax_por_acomodar = adults + children;\n    var personas_en_cabina = 0;\n    \n    \n    $.each(cabinas_seleccionadas, function(index, value){\n        //console.warn(value.personasEnCabina);\n        personas_en_cabina += value.personasEnCabina;\n    })\n    console.log('holaxxx');\n    if (pax_por_acomodar <= personas_en_cabina || pax_por_acomodar == personas_en_cabina){\n        cabinasLlenas();\n        $('.pending-text').hide();\n        $('#add-another-cabin-btn').hide();\n        $('.checkout-btn-placeholder').show();\n        $('#submit-accommodation').show();\n        pending_pax.text('0');\n        console.log('aqui');\n    }else{\n        if (personas_en_cabina > pax_por_acomodar){\n            cabinasLlenas();\n            $('.pending-text').hide();\n            $('#add-another-cabin-btn').hide();\n            $('#submit-accommodation').hide();\n            $('.checkout-btn-placeholder').show();\n            pending_pax.text('0');\n            console.log('aqui mayor');\n        }else{\n            pending_pax.text(pax_por_acomodar - personas_en_cabina);\n            cabinasPendiente();\n            $('#add-another-cabin-btn').show();\n            $('.checkout-btn-placeholder').hide();\n            $('#submit-accommodation').hide();\n            $('.pending-text').show();\n            console.log('aqui menor');\n        }\n    }\n    pending_pax.text();\n    console.log( pax_por_acomodar - personas_en_cabina );\n}\n// INICIALIZACIONES\n// $('.input-daterange').datepicker({\n//     startView: 2,\n//     maxViewMode: 0,\n//     autoclose: true,\n//     format: \"yyyy-mm-dd\"\n// });\n\n/* READY */\n$(document).ready( function(){\n  \n    // console.log('App started!');\n    recuperarFechasSalidas(finicio, ffin);\n    promociones = $('.ggspecialoffer');\n    \n})\n\n/* EVENTOS  PARA DISPONIBILIDAD */\n// BUSCAR FECHAS EN CLICK\n$('#search-dates').click( function(){\n    var inicio = $('input[name=date-start]').val();\n    var fin = $('input[name=date-end]').val();\n    recuperarFechasSalidas(inicio, fin);\n    $.each(salidas, function(index, value){\n       console.log(index); \n    });\n})\n// MOSTRAR MAS FILTROS\n$('#more-filters').click( function(){\n    var more_filter_button = $(this);\n    more_filter_button.toggleClass('open');    \n    $('#filter-controls-placeholder').slideToggle(200, function(){\n        if (more_filter_button.hasClass('open')){\n            more_filter_button.find('i').removeClass('fa-sliders-h');\n            more_filter_button.find('i').addClass('fa-chevron-up');\n        }else{\n            more_filter_button.find('i').removeClass('fa-chevron-up');\n            more_filter_button.find('i').addClass('fa-sliders-h');\n        }\n    });\n})\n// CALCULAR LOS PAX ADULTOS\n$('.counter-adults').click( function(){\n    adults = $('#adults-counter');\n    var valor = adults.val();\n    if( $(this).hasClass('add') ){\n        adults.val( calcularInputPax(0, valor) );\n    }else{\n        if (valor > 1){\n            adults.val( calcularInputPax(1, valor) );\n        }\n    }\n    validarTotalPax();\n})\n// CALCULAR LOS PAX NIÑOS\n$('.counter-children').click( function(){\n    children = $('#children-counter');\n    var valor = children.val();\n    if( $(this).hasClass('add') ){\n        children.val( calcularInputPax(0, valor) );\n    }else{\n        if (valor > 1){\n            children.val( calcularInputPax(1, valor) );\n        }\n    }\n    validarTotalPax();\n})\n// MOSTRAR Y OCULTAR LAS FECHAS\n$('.hide-all-dates').click( function(){\n    datesShown = false;\n    $(this).addClass('hidden');\n    fechasMostrarOcultar($(this).parents('.ship-container').attr('id'));\n});    \n$('.see-all-dates').click( function(){\n    datesShown = true;\n    $(this).addClass('hidden');\n    fechasMostrarOcultar($(this).parents('.ship-container').attr('id'));\n});\n// SELECCIONAR LA FECHA\n$('.departure-placeholder').click( function(){\n    $('#error-message').hide();\n\n    // mostrarMascara();\n\n    var departure_promo = $(this).data('promo');\n    var titulo_modal = $('#' + departure_promo).find('.modal-title').text();\n    var promo_link = '';\n    \n    $('.duration-box').addClass('hidden');\n    $('.cabins-box').addClass('hidden');\n    $('.promo-name').html('');\n    $(this).parents('.ship-container').find('.duration-box').removeClass('hidden');\n\n    $('.departure-placeholder').removeClass('selected');\n    $(this).addClass('selected');\n    \n    fecha_barco = $(this).parents('.ship-container').data('shipcode');\n\n    $('#input-ship').val(fecha_barco);\n    $('#input-departure').val($(this).data('departure'));\n    $('#input-promo').val($(this).data('promo'));\n    \n    promo_link = '<strong>Offer available on this date</strong><br />';\n    promo_link += '<a href=\"#\" data-toggle=\"modal\" data-target=\"#' + departure_promo + '\">';\n    promo_link += titulo_modal;\n    promo_link += '</a>';\n\n    $(this).parents('.ship-container').find('.promo-name').html(promo_link);\n    if (departure_promo === undefined){\n        $('#input-promo').val('false');\n        $('#promo-name').html('')\n    }\n\n    // quitarMascara();\n\n})\n// SELECCIONAR DURACION\n$('.duration-placeholder').click( function(){\n    \n    $('#error-message').hide();\n\n    $('.cabins-box').addClass('hidden');\n    $(this).parents('.ship-container').find('.cabins-box').removeClass('hidden');\n\n    $('.duration-placeholder').removeClass('open');\n    $(this).addClass('open');\n    \n    duracion_barco = $(this).parents('.ship-container').data('shipcode');\n    \n    $('#input-ship').val(duracion_barco);\n    $('#input-duration').val($(this).data('duration'));\n})\n$('#set-date').click( function(e){\n    e.preventDefault();\n    if(fecha_barco === duracion_barco){\n        //console.log('enviar');\n        $('#error-message').hide();\n        $('#set-date-form').submit();\n    }else{\n        $('#error-message').slideDown();\n    }\n    $('#extrax-form').submit();\n})\n\n/*  EVENTOS PARA ACOMODACION */\n\n// MOSTRAR SUMARIO\n$('#shoping-status').click( function(){\n    $('#cabinSumary').modal('show');\n})\n// MOSTRAR CARACTERISTICAS CABINAS\n$('.cabin-name').click( function(){\n    var featured_id = $(this).data('cabinid');\n    $('#featured-' + featured_id).slideToggle(200);\n})\n// MOSTRAR LISTADO FILTRO CABINAS\n$('#show-cabins-list-filter').click( function(){\n    var elemento = $(this).find('.fas');\n    if(elemento.hasClass('fa-plus')){\n        elemento.removeClass('fa-plus');\n        elemento.addClass('fa-minus');\n    }else{\n        elemento.removeClass('fa-minus');\n        elemento.addClass('fa-plus');\n    }\n    $('#cabins-list-placeholder').slideToggle(400);\n})\n// DESACTIVAR CABINA EN FILTRO\n$('.cabin-list-status').click( function(){\n    var cabinbox = $(this).data(\"cabinbox\");\n    $(this).toggleClass('hiddencabinbox');\n    if($(this).hasClass('hiddencabinbox')){\n        $('#' + cabinbox).hide();\n    }else{\n        $('#' + cabinbox).show();        \n    }\n})\n// VALIDAR ACOMODACION\n$('.accommodation-items').change( function(){\n    var elemento = $(this);\n    elemento.parents('.cabin-box').find('.info-accommodation').hide();\n})\n// AGREGAR CABINA\n$('.add-cabin-btn').click( function(){\n    var elemento = $(this);\n    var acomodacion = $('select[name=accommodation-for-'+elemento.data('addcabin')+']');\n    var cabina = '';\n    if (acomodacion.val() == 0){\n        mostrarErrorAcomodacion( elemento.data('addcabin') );\n    }else{\n        \n        //agregar cabinas al arreglo\n        cabina = {\n            acomodacionTexto    :   $('select[name=accommodation-for-'+elemento.data('addcabin')+'] option:selected').text(),\n            codigoCabina        :   elemento.data('dispocode'),\n            idCabina            :   elemento.data('addcabin'),\n            nombreCabina        :   elemento.parents('#'+elemento.data('addcabin')).find('.cabin-name').text(),\n            precioCabina        :   elemento.parents('#'+elemento.data('addcabin')).find('.price').text(),\n            personasEnCabina    :   $('select[name=accommodation-for-'+elemento.data('addcabin')+'] option:selected').data('peopleincabin')\n        };\n        $('select[name=accommodation-for-'+elemento.data('addcabin')+']').val(0);\n        \n        \n        cabinas_seleccionadas.push(cabina);\n        \n//        $.each(cabinas_seleccionadas, function(index, values){\n//            console.log(values);\n//            $('input[name=\"cabins-selected['+index+'][acomodacionTexto]\"]').val( values.acomodacionTexto );\n//            $('input[name=\"cabins-selected['+index+'][codigoCabina]\"]').val( values.codigoCabina );\n//            $('input[name=\"cabins-selected['+index+'][idCabina]\"]').val( values.idCabina );\n//            $('input[name=\"cabins-selected['+index+'][nombreCabina]\"]').val( values.nombreCabina );\n//            $('input[name=\"cabins-selected['+index+'][personasEnCabina]\"]').val( values.personasEnCabina );\n//            $('input[name=\"cabins-selected['+index+'][precioCabina]\"]').val( values.precioCabina );\n//        });\n//        \n//        console.log($('input[name=\"cabins-selected[0][acomodacionTexto]\"]'));\n        \n        calcularPaxPorAcomodar();\n        \n        mostrarSumario();        \n    }\n})\n\n// ELIMINAR CABINA\n$(document).on('click', '.cabin-item-list-remove-btn', function(){\n    \n    if (cabinas_seleccionadas.length > 1){\n        console.log('tiene varios', cabinas_seleccionadas.length);\n        cabinas_seleccionadas.splice($(this).data('removethiselement'), 1);\n    }else{\n        console.log('tiene ', cabinas_seleccionadas.length);\n        cabinas_seleccionadas.shift(0);\n    }\n    $('#panel-' + $(this).data('removethiselement')).remove();\n    \n    //console.log($(this).data('removethiselement'));\n    \n    redibujarListaCabinasSumario(cabinas_seleccionadas);\n    \n    calcularPaxPorAcomodar();\n})\n\n// ENVIAR ACOMODACION DESDE FORM\n$('#go-checkout').click( function(){\n    \n    $.each( cabinas_seleccionadas, function(index, value){        \n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][idCabina]\" value=\"'+value.idCabina+'\">').appendTo($('#accommodation-form'));\n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][codigoCabina]\" value=\"'+value.codigoCabina+'\">').appendTo($('#accommodation-form'));\n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][nombreCabina]\" value=\"'+value.nombreCabina+'\">').appendTo($('#accommodation-form'));\n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][acomodacionTexto]\" value=\"'+value.acomodacionTexto+'\">').appendTo($('#accommodation-form'));\n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][personasEnCabina]\" value=\"'+value.personasEnCabina+'\">').appendTo($('#accommodation-form'));\n        $('<input type=\"hidden\" name=\"cabins-selected['+index+'][precioCabina]\" value=\"'+parseInt(value.precioCabina)+'\">').appendTo($('#accommodation-form'));\n    })\n    $('#accommodation-form').submit();\n})\n\n// ENVIAR ACOMODACION DESDE MODAL\n$('#submit-accommodation').click( function(){    \n    $('#go-checkout').trigger('click');\n})\n\n/* EVENTOS PARA EXTRAS */\n// SELECCIONAR PACK\n$('.pack-placeholder').click( function(){\n\n    $(this).toggleClass('open');\n    $(this).toggleClass('selected');\n    \n})\n// VER INFORMACION DEL PACK\n$('.pack-placeholder-info-box').click(function(){\n    console.log($(this));\n    $('#info-extra-'+ $(this).data('pax') +'-' + $(this).data('packcode')).modal('show');\n})\n// ACTIVAR SERCIVIO ADICIONAL\n$('.offer-search-filter-placeholder').click(function(){\n    $(this).toggleClass('selected');\n    if ($(this).hasClass('selected') && $(this).hasClass('set-billing-info')){\n        $('select[name=billing-country] option[value=' + $('input[name=traveler\\\\[1\\\\]\\\\[country\\\\]]').val() + ']').prop('selected', true);\n        $('input[name=billing-address]').val($('input[name=traveler\\\\[1\\\\]\\\\[streetaddress\\\\]]').val());\n        $('input[name=billing-city]').val($('input[name=traveler\\\\[1\\\\]\\\\[city\\\\]]').val());\n        $('input[name=billing-state]').val($('input[name=traveler\\\\[1\\\\]\\\\[citystate\\\\]]').val());\n        $('input[name=billing-zipcode]').val($('input[name=traveler\\\\[1\\\\]\\\\[zipcode\\\\]]').val());\n    }else{\n        $('select[name=billing-country]').val(0);\n        $('input[name=billing-address]').val('');\n        $('input[name=billing-city]').val('');\n        $('input[name=billing-state]').val('');\n        $('input[name=billing-zipcode]').val('');\n    }\n})\n$('.counter-service').click(function(){\n    var operador = $(this);\n    var pax = operador.data('pax');\n    var servicio = operador.data('serviceid');\n    var campo = $('#counter-'+pax+'-'+servicio);\n    var valor = campo.val();\n    \n    if( $(this).hasClass('add') ){\n        campo.val( calcularInputPax(0, valor) );\n    }else{\n        if (valor > 1){\n            campo.val( calcularInputPax(1, valor) );\n        }\n    }\n    console.log(campo.val());\n})\n$('#send-as-quote').click(function(e){\n    e.preventDefault();\n    $('[name=\"go-request\"]').val(0);\n    $('#checkout-form').submit();\n})\n\n\n\n\n\n\n\n});"]}